<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ProjexLab — Buy Final-Year Projects</title>
  <meta name="description" content="ProjexLab — curated final-year projects for CSE students. Buy source code, PPT, report, video and setup guide." />
  <meta name="theme-color" content="#071426">

  <style>
    /* ---------- VARIABLES & RESET ---------- */
    :root{
      --bg-1:#061021; --bg-2:#081428; --card:#071427; --muted:#9aa4b2;
      --accent1:#3b82f6; --accent2:#06b6d4; --accent3:#6ee7b7;
      --glass: rgba(255,255,255,0.03); --glass-2: rgba(255,255,255,0.02);
      --max-w:1150px; --radius:14px; --glass-border: rgba(255,255,255,0.05);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;background:linear-gradient(180deg,var(--bg-1) 0%, var(--bg-2) 100%);color:#e6eef6;-webkit-font-smoothing:antialiased}
    a{color:var(--accent2);text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:var(--max-w);margin:0 auto;padding:22px}

    /* ---------- TOP NAV ---------- */
    header{position:sticky;top:12px;z-index:60;padding:8px 0}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:12px;backdrop-filter: blur(8px);padding:12px;border-radius:20px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03)}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg,var(--accent2),var(--accent1));display:flex;align-items:center;justify-content:center;font-weight:800;color:#02201d;box-shadow:0 6px 20px rgba(3,7,18,0.6)}
    .brand h1{font-size:18px;margin:0}
    nav a{margin-left:12px;color:var(--muted);font-weight:600}
    .cta{padding:8px 14px;border-radius:10px;background:linear-gradient(90deg,var(--accent3),var(--accent2));color:#01201a;font-weight:700;border:none;cursor:pointer;box-shadow:0 8px 30px rgba(3,15,30,0.45)}
    .nav-right{display:flex;gap:12px;align-items:center}

    /* ---------- HERO ---------- */
    .hero{display:grid;grid-template-columns:1fr 380px;gap:28px;align-items:start;padding:36px 0}
    .hero-card{padding:26px;border-radius:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid var(--glass-border);box-shadow:0 8px 40px rgba(2,6,15,0.6)}
    .hero h2{font-size:28px;margin-bottom:8px}
    .hero p{color:var(--muted);margin-bottom:16px;line-height:1.5}
    .searchbar{display:flex;gap:10px}
    .searchbar input{flex:1;padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;outline:none}
    .pill-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
    .pill{padding:8px 12px;border-radius:999px;background:linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.006));color:var(--muted);font-size:13px;cursor:pointer;border:1px solid rgba(255,255,255,0.02)}
    .pill.pill-active{background:linear-gradient(90deg,var(--accent3),var(--accent2));color:#04201b;font-weight:700;transform:translateY(-2px);box-shadow:0 8px 28px rgba(6,22,32,0.45)}

    /* ---------- FEATURED / ASIDE ---------- */
    aside .card{padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03)}
    .featured{display:grid;grid-template-columns:repeat(1,1fr);gap:12px;margin-top:12px}
    .f-card{display:flex;gap:12px;align-items:center;padding:8px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);cursor:pointer;border:1px solid rgba(255,255,255,0.02)}
    .f-card img{width:92px;height:64px;object-fit:cover;border-radius:8px;flex-shrink:0}
    .f-card h4{margin:0;font-size:14px}
    .f-card .muted{font-size:12px;color:var(--muted)}

    /* ---------- CONTROLS & GRID ---------- */
    .controls{display:flex;gap:12px;align-items:center;margin:20px 0}
    .select, .sort, .input{padding:10px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.04);color:inherit;min-width:150px}
    .projects-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .project-card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:12px;border:1px solid rgba(255,255,255,0.03);cursor:pointer;transition:transform .18s, box-shadow .18s}
    .project-card:hover{transform:translateY(-6px);box-shadow:0 20px 60px rgba(4,16,32,0.6)}
    .project-card img{height:160px;object-fit:cover;border-radius:10px;margin-bottom:10px}
    .project-card h3{margin:0 0 6px}
    .project-card .meta{color:var(--muted);font-size:13px}
    .tags{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .tag{padding:6px 8px;background:rgba(255,255,255,0.02);border-radius:999px;font-size:12px;color:var(--muted)}

    /* ---------- DRAWER (DETAIL PANEL) ---------- */
    .drawer{position:fixed;right:0;top:0;height:100vh;width:480px;background:linear-gradient(180deg,#071022, #04101a);box-shadow:-30px 0 60px rgba(0,0,0,0.6);transform:translateX(110%);transition:transform .28s;z-index:90;padding:22px;overflow:auto;border-left:1px solid rgba(255,255,255,0.02)}
    .drawer.open{transform:translateX(0)}
    .drawer h3{margin:0}
    .drawer img{width:100%;height:220px;object-fit:cover;border-radius:10px;margin:12px 0}
    .buy-row{display:flex;gap:10px;margin-top:12px}
    .btn{padding:10px 12px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
    .btn-primary{background:linear-gradient(90deg,var(--accent2),var(--accent1));color:#02201d}
    .btn-outline{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}

    /* ---------- ABOUT / CONTACT ---------- */
    .two-col{display:grid;grid-template-columns:1fr 1fr;gap:18px}
    .testimonial{padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border:1px solid rgba(255,255,255,0.02)}
    .muted{color:var(--muted)}

    /* ---------- FOOTER ---------- */
    footer{margin-top:36px;padding:24px 0;color:var(--muted);border-top:1px solid rgba(255,255,255,0.02)}

    /* ---------- RESPONSIVE ---------- */
    @media (max-width:1100px){.hero{grid-template-columns:1fr}.projects-grid{grid-template-columns:repeat(2,1fr)}.drawer{width:100%}}
    @media (max-width:720px){nav a{display:none}.projects-grid{grid-template-columns:1fr}.featured{grid-template-columns:1fr}.nav{padding:10px}.hero{gap:18px}}
  </style>
</head>
<body>
  <div class="container">
    <!-- NAV -->
    <header>
      <div class="nav" role="navigation" aria-label="Main navigation">
        <div class="brand">
          <div class="logo">PX</div>
          <div>
            <h1 style="font-size:16px;margin:0;">ProjexLab</h1>
            <div style="font-size:12px;color:var(--muted)">Final-year projects marketplace</div>
          </div>
        </div>

        <nav style="display:flex;align-items:center;gap:12px">
          <a href="#home" onclick="scrollToSection('home')">Home</a>
          <a href="#projects" onclick="scrollToSection('projects')">Projects</a>
          <a href="#about" onclick="scrollToSection('about')">About</a>
          <a href="#contact" onclick="scrollToSection('contact')">Contact</a>
          <button class="cta" onclick="window.open(buyForm,'_blank')">Buy Projects</button>
        </nav>
      </div>
    </header>

    <!-- HERO + ASIDE -->
    <main>
      <section id="home" class="hero" aria-labelledby="home-heading" style="margin-top:18px">
        <div class="hero-card">
          <h2 id="home-heading">Buy Final-Year Projects — Ready-made & Custom</h2>
          <p>Choose from vetted projects across AI, ML, IoT, Web, Cloud, Cybersecurity, Android, and more. Each purchase includes full source code, PPT, report, demo video and setup guide.</p>

          <div class="searchbar" style="margin-bottom:12px">
            <input id="globalSearch" placeholder="Search projects, tags or tech (press / to focus)" aria-label="Search projects" />
            <button id="searchBtn" class="btn btn-primary">Search</button>
          </div>

          <div class="pill-row" id="categoryPills" aria-hidden="false"></div>

          <div style="margin-top:14px;display:flex;gap:10px;align-items:center">
            <div style="padding:6px 10px;border-radius:8px;background:rgba(255,255,255,0.02);font-size:13px">Fast Delivery</div>
            <div style="padding:6px 10px;border-radius:8px;background:rgba(255,255,255,0.02);font-size:13px">Reports Included</div>
            <div style="padding:6px 10px;border-radius:8px;background:rgba(255,255,255,0.02);font-size:13px">Student Friendly</div>
          </div>
        </div>

        <aside>
          <div class="card">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <h3 style="font-size:15px;margin:0">Featured Projects <span class="muted" id="featuredCount"></span></h3>
              <div class="muted" style="font-size:13px">Curated picks</div>
            </div>
            <div class="featured" id="featuredList"></div>
          </div>

          <div style="margin-top:12px" class="card">
            <h4 style="margin:0 0 8px">Why ProjexLab?</h4>
            <ul class="muted" style="padding-left:18px;margin:6px 0">
              <li>Unique & tested projects</li>
              <li>Fast delivery & setup support</li>
              <li>Complete deliverables: code, report, PPT, video</li>
              <li>Request custom projects</li>
            </ul>
          </div>
        </aside>
      </section>

      <!-- CONTROLS -->
      <section id="projects" style="margin-top:18px">
        <div class="controls" role="region" aria-label="Filters">
          <select id="filterCategory" class="select">
            <option value="all">All Categories</option>
          </select>

          <select id="sortBy" class="sort">
            <option value="newest">Newest</option>
            <option value="trending">Trending</option>
            <option value="price-asc">Price: Low → High</option>
            <option value="price-desc">Price: High → Low</option>
          </select>

          <input id="tagFilter" placeholder="Filter tag (e.g. IEEE, Unique)" class="input" />

          <div style="margin-left:auto;color:var(--muted)" id="resultsInfo" aria-live="polite"></div>
        </div>

        <div class="projects-grid" id="projectsGrid" aria-live="polite"></div>

        <div style="display:flex;justify-content:center;margin-top:18px;gap:8px" id="pagination"></div>
      </section>

      <!-- ABOUT -->
      <section id="about" style="margin-top:28px">
        <h2>About ProjexLab</h2>
        <div class="two-col" style="margin-top:12px">
          <div>
            <p class="muted">ProjexLab started as a meetup of students who wanted high-quality, exam-ready projects. Our mission: make final-year projects accessible, unique, and delivered with full documentation so students can learn and present with confidence.</p>

            <h4>Mission & Vision</h4>
            <p class="muted">Deliver project solutions that teach, not just copy — and help students build a portfolio they can be proud of.</p>
          </div>
          <div>
            <h4>Testimonials</h4>
            <div class="testimonial">“ProjexLab saved our semester — the code was clean and the report helped us secure an A.” — <strong>Riya, CSE</strong></div>
            <div class="testimonial" style="margin-top:8px">“Custom project matched our idea perfectly.” — <strong>Rahul, ECE</strong></div>
          </div>
        </div>
      </section>

      <!-- CONTACT -->
      <section id="contact" style="margin-top:28px">
        <h2>Contact</h2>
        <div class="two-col" style="margin-top:12px">
          <div>
            <h4>Get in touch</h4>
            <p class="muted">
              Phone: <a href="tel:+919063228334">+91 9063228334</a><br>
              WhatsApp Group: <a href="https://chat.whatsapp.com/BhR9eyM1DiTABNYKGeEfjV" target="_blank" rel="noopener">Join</a><br>
              Email: <a href="mailto:hello@projexlab.org">projexlaborg@gmail.com</a>
            </p>

            <h4>Social</h4>
            <p class="muted">
              <a href="https://www.instagram.com/projexlaborg?igsh=MWVhZnFteTdiNHFv" target="_blank" rel="noopener">Instagram</a> ·
              <a href="https://www.linkedin.com/in/projexlab-org-490184392?utm_source=share_via&utm_content=profile&utm_medium=member_android" target="_blank" rel="noopener">LinkedIn</a>
            </p>
          </div>

          <div>
            <h4>Contact form</h4>
            <form id="contactForm" aria-label="Contact form">
              <input id="cname" placeholder="Your name" style="width:100%;padding:10px;border-radius:8px;margin-bottom:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit" required />
              <input id="cemail" type="email" placeholder="Your email" style="width:100%;padding:10px;border-radius:8px;margin-bottom:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit" required />
              <textarea id="cmessage" placeholder="Message" style="width:100%;padding:10px;border-radius:8px;margin-bottom:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit" required></textarea>
              <div style="display:flex;gap:8px">
                <button class="btn btn-primary" type="submit">Send</button>
                <a class="btn btn-outline" href="https://docs.google.com/forms/d/e/1FAIpQLScGKXamBRVdV8rknUK5ZAVi3leozDpLT3nH3q_M5NWu-rqXbQ/viewform?usp=dialog" target="_blank" rel="noopener">Order via Form</a>
              </div>
            </form>
          </div>
        </div>

        <div style="margin-top:18px" class="card">
          <h4>FAQ</h4>
          <div class="muted">Q: Do you provide reports and PPT?<br><strong>A:</strong> Yes — every project includes source code, PPT, report, demo video and setup guide.</div>
        </div>
      </section>

      <footer>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-top:26px">
          <div class="muted">© ProjexLab 2025</div>
          <div class="muted">Built with ❤️ for students</div>
        </div>
      </footer>
    </main>
  </div>

  <!-- DRAWER -->
  <div id="drawer" class="drawer" aria-hidden="true">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div>
        <h3 id="d-title">Project Title</h3>
        <div class="muted" id="d-category">Category</div>
      </div>
      <button id="closeDrawer" class="btn btn-outline">Close</button>
    </div>

    <div>
      <img id="d-cover" src="" alt="cover" />
      <p id="d-short" class="muted"></p>

      <h4>Abstract</h4>
      <p id="d-abstract" class="muted"></p>

      <h4>Features & Modules</h4>
      <ul id="d-features" class="muted"></ul>

      <h4>Tech Stack</h4>
      <div id="d-tech" class="tags"></div>

      <h4>Delivery Items</h4>
      <ul class="muted">
        <li>Full source code</li>
        <li>PPT</li>
        <li>Report</li>
        <li>Video explanation</li>
        <li>Setup guide</li>
      </ul>

      <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
        <div>
          <div class="muted">Price</div>
          <div class="price" id="d-price">₹ 0</div>
        </div>
        <div class="buy-row">
          <button id="buyNow" class="btn btn-primary">Buy Now</button>
          <button id="requestCustom" class="btn btn-outline">Request Custom</button>
        </div>
      </div>

      <div style="margin-top:16px">
        <h4>FAQ</h4>
        <div class="muted">Have questions about this project? Contact us via WhatsApp or email and we'll respond within 24 hours.</div>
      </div>
    </div>
  </div>

  <!-- ========== SCRIPTS & DATA ========== -->
  <script>
    // ---------- Config (user-supplied links / contact) ----------
    const phone = '+919063228334'; // user's phone
    const waGroup = 'https://chat.whatsapp.com/BhR9eyM1DiTABNYKGeEfjV';
    const insta = 'https://www.instagram.com/projexlaborg?igsh=MWVhZnFteTdiNHFv';
    const linkedin = 'https://www.linkedin.com/in/projexlab-org-490184392?utm_source=share_via&utm_content=profile&utm_medium=member_android';
    const buyForm = 'https://docs.google.com/forms/d/e/1FAIpQLScGKXamBRVdV8rknUK5ZAVi3leozDpLT3nH3q_M5NWu-rqXbQ/viewform?usp=dialog';

    // ---------- Demo PROJECT DATA ----------
    const PROJECTS = [
      {id:1,title:'Smart Attendance with Face Recognition',category:'AI',short:'Face recognition attendance system with Flask and OpenCV.',abstract:'Full system with embeddings, Flask backend and admin dashboard. Easy setup instructions included.',features:['Face detection','Face embeddings','Admin dashboard','CSV export'],tech:['Python','OpenCV','Flask','SQLite'],price:1200,tags:['Unique','Mini Project'],cover:'https://picsum.photos/seed/p1/1200/720',featured:true,created:'2025-09-02',trend:9},
      {id:2,title:'IoT Smart Irrigation',category:'IoT',short:'Automated irrigation using soil moisture sensors and ESP32.',abstract:'ESP32 + sensors + MQTT + cloud dashboard. Includes wiring diagrams and code.',features:['Soil sensing','MQTT','Cloud dashboard'],tech:['C++','ESP32','MQTT','Firebase'],price:1800,tags:['Major Project','IEEE'],cover:'https://picsum.photos/seed/p2/1200/720',featured:true,created:'2025-07-12',trend:7},
      {id:3,title:'E-Commerce MERN Website',category:'Web',short:'Full-stack e-commerce with payments and admin panel.',abstract:'React frontend, Node/Express backend, MongoDB, JWT auth and admin product management.',features:['User auth','Payments','Admin panel','Search'],tech:['React','Node.js','MongoDB'],price:2000,tags:['Trending','Major Project'],cover:'https://picsum.photos/seed/p3/1200/720',featured:true,created:'2025-10-05',trend:12},
      {id:4,title:'Malware Detection using ML',category:'Cybersecurity',short:'Classify malicious binaries with ML features.',abstract:'Feature extraction from binaries and classification using RandomForest with explainability.',features:['Feature extraction','Model training','Evaluation'],tech:['Python','scikit-learn'],price:1500,tags:['IEEE','Unique'],cover:'https://picsum.photos/seed/p4/1200/720',featured:false,created:'2025-08-01',trend:6},
      {id:5,title:'Android Chat App with Socket.IO',category:'Android',short:'Real-time chat with media sharing and groups.',abstract:'Kotlin app using Socket.IO and Node.js backend for real-time messaging and push.',features:['Real-time chat','Media sharing','Groups'],tech:['Kotlin','Socket.IO','Node.js'],price:1000,tags:['Mini Project'],cover:'https://picsum.photos/seed/p5/1200/720',featured:false,created:'2025-05-15',trend:5}
    ];

    const CATEGORIES = ['AI','ML','IoT','Web','Cloud','Cybersecurity','Android','Blockchain'];

    // ---------- UI REFERENCES ----------
    const categoryPills = document.getElementById('categoryPills');
    const featuredList = document.getElementById('featuredList');
    const featuredCount = document.getElementById('featuredCount');
    const filterCategory = document.getElementById('filterCategory');
    const projectsGrid = document.getElementById('projectsGrid');
    const globalSearch = document.getElementById('globalSearch');
    const sortBy = document.getElementById('sortBy');
    const tagFilter = document.getElementById('tagFilter');
    const resultsInfo = document.getElementById('resultsInfo');
    const paginationEl = document.getElementById('pagination');
    const drawer = document.getElementById('drawer');
    const closeDrawer = document.getElementById('closeDrawer');

    // ---------- Populate categories & featured ----------
    CATEGORIES.forEach(cat=>{
      // pill
      const p = document.createElement('div'); p.className='pill'; p.textContent = cat; p.dataset.cat=cat;
      p.addEventListener('click',()=>{
        document.querySelectorAll('.pill').forEach(x=>x.classList.remove('pill-active'));
        p.classList.add('pill-active');
        filterCategory.value = cat;
        STATE.page = 1; renderProjects();
      });
      categoryPills.appendChild(p);

      // select option
      const o = document.createElement('option'); o.value = cat; o.textContent = cat; filterCategory.appendChild(o);
    });

    // featured
    const featured = PROJECTS.filter(p=>p.featured);
    featuredCount.textContent = `(${featured.length})`;
    featured.forEach(p=>{
      const el = document.createElement('div'); el.className='f-card';
      el.innerHTML = `<img src="${p.cover}" alt=""><div><h4>${p.title}</h4><div class="muted">${p.short}</div></div>`;
      el.addEventListener('click',()=>openDrawer(p.id));
      featuredList.appendChild(el);
    });

    // ---------- STATE & FILTER LOGIC ----------
    let STATE = {q:'',category:'all',tag:'',sort:'newest',page:1,perPage:6};

    function applyFilters(){
      let res = PROJECTS.slice();
      if(STATE.category && STATE.category!=='all') res = res.filter(p=>p.category===STATE.category);
      if(STATE.tag) res = res.filter(p=>p.tags.join(' ').toLowerCase().includes(STATE.tag.toLowerCase()));
      if(STATE.q){
        const q = STATE.q.toLowerCase();
        res = res.filter(p=> (p.title + ' ' + p.short + ' ' + p.abstract + ' ' + p.tech.join(' ') + ' ' + p.tags.join(' ')).toLowerCase().includes(q));
      }
      if(STATE.sort==='newest') res.sort((a,b)=> new Date(b.created) - new Date(a.created));
      if(STATE.sort==='trending') res.sort((a,b)=> b.trend - a.trend);
      if(STATE.sort==='price-asc') res.sort((a,b)=> a.price - b.price);
      if(STATE.sort==='price-desc') res.sort((a,b)=> b.price - a.price);
      return res;
    }

    function renderProjects(){
      STATE.q = globalSearch.value.trim();
      STATE.category = filterCategory.value;
      STATE.tag = tagFilter.value.trim();
      STATE.sort = sortBy.value;
      const all = applyFilters();
      const total = all.length;
      const pages = Math.max(1, Math.ceil(total / STATE.perPage));
      STATE.page = Math.min(STATE.page, pages);
      const start = (STATE.page - 1) * STATE.perPage;
      const items = all.slice(start, start + STATE.perPage);

      projectsGrid.innerHTML = '';
      items.forEach(p=>{
        const c = document.createElement('div'); c.className = 'project-card';
        c.innerHTML = `
          <img src="${p.cover}" alt="${p.title}">
          <h3>${p.title}</h3>
          <div class="meta">${p.short}</div>
          <div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px">
            <div class="tags">${p.tags.map(t=>`<div class='tag'>${t}</div>`).join('')}</div>
            <div style="text-align:right"><div class="price">₹ ${p.price}</div><div class="muted" style="font-size:12px">${p.category}</div></div>
          </div>
        `;
        c.addEventListener('click',()=>openDrawer(p.id));
        projectsGrid.appendChild(c);
      });

      resultsInfo.textContent = `${total} result${total!==1?'s':''}`;

      // pagination
      paginationEl.innerHTML = '';
      for(let i=1;i<=pages;i++){
        const b = document.createElement('button'); b.className='btn'; b.textContent = i; if(i===STATE.page) b.style.opacity=0.6;
        b.addEventListener('click',()=>{ STATE.page = i; renderProjects(); });
        paginationEl.appendChild(b);
      }
    }

    // live inputs
    let typingTimer;
    globalSearch.addEventListener('input',()=>{ clearTimeout(typingTimer); typingTimer = setTimeout(()=>{ STATE.page=1; renderProjects() }, 220); });
    filterCategory.addEventListener('change', ()=>{ STATE.page=1; renderProjects(); });
    sortBy.addEventListener('change', ()=>{ STATE.page=1; renderProjects(); });
    tagFilter.addEventListener('input', ()=>{ STATE.page=1; renderProjects(); });

    // initial render
    renderProjects();

    // ---------- DRAWER (DETAILS) ----------
    function openDrawer(id){
      const p = PROJECTS.find(x=>x.id===id); if(!p) return;
      drawer.classList.add('open'); drawer.setAttribute('aria-hidden','false');
      document.getElementById('d-title').textContent = p.title;
      document.getElementById('d-category').textContent = p.category;
      document.getElementById('d-cover').src = p.cover;
      document.getElementById('d-short').textContent = p.short;
      document.getElementById('d-abstract').textContent = p.abstract;
      document.getElementById('d-features').innerHTML = p.features.map(x=>`<li>${x}</li>`).join('');
      document.getElementById('d-tech').innerHTML = p.tech.map(t=>`<div class='tag'>${t}</div>`).join('');
      document.getElementById('d-price').textContent = `₹ ${p.price}`;

      document.getElementById('buyNow').onclick = ()=> {
        // open Google Form with prefilled message via WhatsApp recommendation
        const msg = `Hi ProjexLab — I want to buy: ${p.title} (ID:${p.id}) — Price: ₹${p.price}`;
        window.open(getWhatsAppLink(msg), '_blank');
      };
      document.getElementById('requestCustom').onclick = ()=> {
        window.open(getWhatsAppLink(`I want a custom project — brief:`), '_blank');
      };
    }

    closeDrawer.addEventListener('click', ()=>{ drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true') });

    // ---------- CONTACT FORM (demo) ----------
    const contactForm = document.getElementById('contactForm');
    contactForm.addEventListener('submit', (e)=> {
      e.preventDefault();
      const name = document.getElementById('cname').value;
      const email = document.getElementById('cemail').value;
      const msg = document.getElementById('cmessage').value;
      alert('Thanks! Message received (demo). We will contact you on WhatsApp or email.');
      console.log({name,email,msg});
      contactForm.reset();
    });

    // ---------- WHATSAPP LINK HELPER ----------
    function getWhatsAppLink(text){
      const num = phone.replace(/\D/g,''); // +919063228334 -> 919063228334
      return `https://wa.me/${num}?text=${encodeURIComponent(text)}`;
    }
    // set group link anchor (some browsers might block direct wa.me to group)
    // but we already show group link in contact section

    // ---------- NICE KEYBINDINGS ----------
    document.addEventListener('keydown', (e)=>{
      if(e.key === '/') { globalSearch.focus(); e.preventDefault(); }
      if(e.key === 'Escape') { drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true'); }
    });

    // ---------- SMALL SCROLL TO SECTION ----------
    function scrollToSection(id){
      const el = document.getElementById(id);
      if(!el) return;
      el.scrollIntoView({behavior:'smooth',block:'start'});
    }

    // Expose some functions globally used by button attributes
    window.openDrawer = openDrawer;
    window.getWhatsAppLink = getWhatsAppLink;
    window.buyForm = buyForm;
    window.scrollToSection = scrollToSection;
  </script>
</body>
</html>
